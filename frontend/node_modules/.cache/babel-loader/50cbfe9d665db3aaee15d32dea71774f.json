{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n/** @jsx jsx */\n\n\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { jsx } from '@emotion/core';\nimport { bind } from 'bind-event-listener';\nimport { usePlatformLeafSyntheticEventHandler } from '@atlaskit/analytics-next';\nimport useCloseOnEscapePress from '@atlaskit/ds-lib/use-close-on-escape-press';\nimport { ExitingPersistence, FadeIn } from '@atlaskit/motion';\nimport { Popper } from '@atlaskit/popper';\nimport Portal from '@atlaskit/portal';\nimport { layers } from '@atlaskit/theme/constants';\nimport { show } from './internal/tooltip-manager';\nimport useUniqueId from './internal/use-unique-id';\nimport TooltipContainer from './TooltipContainer';\nimport { getMousePosition } from './utilities';\nvar tooltipZIndex = layers.tooltip();\nvar analyticsAttributes = {\n  componentName: 'tooltip',\n  packageName: \"@atlaskit/tooltip\",\n  packageVersion: \"17.5.8\"\n};\n\nfunction noop() {}\n\nfunction Tooltip(_ref) {\n  var children = _ref.children,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? 'bottom' : _ref$position,\n      _ref$mousePosition = _ref.mousePosition,\n      mousePosition = _ref$mousePosition === void 0 ? 'bottom' : _ref$mousePosition,\n      content = _ref.content,\n      _ref$truncate = _ref.truncate,\n      truncate = _ref$truncate === void 0 ? false : _ref$truncate,\n      _ref$component = _ref.component,\n      Container = _ref$component === void 0 ? TooltipContainer : _ref$component,\n      _ref$tag = _ref.tag,\n      TargetContainer = _ref$tag === void 0 ? 'div' : _ref$tag,\n      testId = _ref.testId,\n      _ref$delay = _ref.delay,\n      delay = _ref$delay === void 0 ? 300 : _ref$delay,\n      _ref$onShow = _ref.onShow,\n      onShow = _ref$onShow === void 0 ? noop : _ref$onShow,\n      _ref$onHide = _ref.onHide,\n      onHide = _ref$onHide === void 0 ? noop : _ref$onHide,\n      _ref$hideTooltipOnCli = _ref.hideTooltipOnClick,\n      hideTooltipOnClick = _ref$hideTooltipOnCli === void 0 ? false : _ref$hideTooltipOnCli,\n      _ref$hideTooltipOnMou = _ref.hideTooltipOnMouseDown,\n      hideTooltipOnMouseDown = _ref$hideTooltipOnMou === void 0 ? false : _ref$hideTooltipOnMou,\n      analyticsContext = _ref.analyticsContext,\n      _ref$strategy = _ref.strategy,\n      strategy = _ref$strategy === void 0 ? 'fixed' : _ref$strategy;\n  var tooltipPosition = position === 'mouse' ? mousePosition : position;\n  var onShowHandler = usePlatformLeafSyntheticEventHandler(_objectSpread({\n    fn: onShow,\n    action: 'displayed',\n    analyticsData: analyticsContext\n  }, analyticsAttributes));\n  var onHideHandler = usePlatformLeafSyntheticEventHandler(_objectSpread({\n    fn: onHide,\n    action: 'hidden',\n    analyticsData: analyticsContext\n  }, analyticsAttributes));\n  var apiRef = useRef(null);\n\n  var _useState = useState('hide'),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var targetRef = useRef(null);\n  var containerRef = useRef(null);\n  var setRef = useCallback(function (node) {\n    if (!node) {\n      return;\n    }\n\n    if (typeof children === 'function') {\n      // @ts-ignore - React Ref typing is too strict for this use case\n      targetRef.current = node;\n    } else {\n      // @ts-ignore - React Ref typing is too strict for this use case\n      containerRef.current = node; // @ts-ignore - React Ref typing is too strict for this use case\n\n      targetRef.current = node.firstChild;\n    }\n  }, [children]); // Putting a few things into refs so that we don't have to break memoization\n\n  var lastState = useRef(state);\n  var lastDelay = useRef(delay);\n  var lastHandlers = useRef({\n    onShowHandler: onShowHandler,\n    onHideHandler: onHideHandler\n  });\n  var hasCalledShowHandler = useRef(false);\n  useEffect(function () {\n    lastState.current = state;\n    lastDelay.current = delay;\n    lastHandlers.current = {\n      onShowHandler: onShowHandler,\n      onHideHandler: onHideHandler\n    };\n  }, [delay, onHideHandler, onShowHandler, state]);\n  var start = useCallback(function (api) {\n    // @ts-ignore\n    apiRef.current = api;\n    hasCalledShowHandler.current = false;\n  }, []);\n  var done = useCallback(function () {\n    if (!apiRef.current) {\n      return;\n    } // Only call onHideHandler if we have called onShowHandler\n\n\n    if (hasCalledShowHandler.current) {\n      lastHandlers.current.onHideHandler();\n    } // @ts-ignore\n\n\n    apiRef.current = null; // @ts-ignore\n\n    hasCalledShowHandler.current = false; // just in case\n\n    setState('hide');\n  }, []);\n  var abort = useCallback(function () {\n    if (!apiRef.current) {\n      return;\n    }\n\n    apiRef.current.abort(); // Only call onHideHandler if we have called onShowHandler\n\n    if (hasCalledShowHandler.current) {\n      lastHandlers.current.onHideHandler();\n    } // @ts-ignore\n\n\n    apiRef.current = null;\n  }, []);\n  useEffect(function mount() {\n    return function unmount() {\n      if (apiRef.current) {\n        abort();\n      }\n    };\n  }, [abort]);\n  var showTooltip = useCallback(function (source) {\n    if (apiRef.current && !apiRef.current.isActive()) {\n      abort();\n    } // Tell the tooltip to keep showing\n\n\n    if (apiRef.current && apiRef.current.isActive()) {\n      apiRef.current.keep();\n      return;\n    }\n\n    var entry = {\n      source: source,\n      delay: lastDelay.current,\n      show: function show(_ref2) {\n        var isImmediate = _ref2.isImmediate; // Call the onShow handler if it hasn't been called yet\n\n        if (!hasCalledShowHandler.current) {\n          hasCalledShowHandler.current = true;\n          lastHandlers.current.onShowHandler();\n        }\n\n        setState(isImmediate ? 'show-immediate' : 'show-fade-in');\n      },\n      hide: function hide(_ref3) {\n        var isImmediate = _ref3.isImmediate;\n        setState(function (current) {\n          if (current !== 'hide') {\n            return isImmediate ? 'hide' : 'fade-out';\n          }\n\n          return current;\n        });\n      },\n      done: done\n    };\n    var api = show(entry);\n    start(api);\n  }, [abort, done, start]);\n  var hideTooltipOnEsc = useCallback(function () {\n    var _apiRef$current;\n\n    (_apiRef$current = apiRef.current) === null || _apiRef$current === void 0 ? void 0 : _apiRef$current.requestHide({\n      isImmediate: true\n    });\n  }, [apiRef]);\n  useCloseOnEscapePress({\n    onClose: hideTooltipOnEsc,\n    isDisabled: state === 'hide' || state === 'fade-out'\n  });\n  useEffect(function () {\n    if (state === 'hide') {\n      return noop;\n    }\n\n    var unbind = bind(window, {\n      type: 'scroll',\n      listener: function listener() {\n        if (apiRef.current) {\n          apiRef.current.requestHide({\n            isImmediate: true\n          });\n        }\n      },\n      options: {\n        capture: true,\n        passive: true,\n        once: true\n      }\n    });\n    return unbind;\n  }, [state]);\n  var onMouseDown = useCallback(function () {\n    if (hideTooltipOnMouseDown && apiRef.current) {\n      apiRef.current.requestHide({\n        isImmediate: true\n      });\n    }\n  }, [hideTooltipOnMouseDown]);\n  var onClick = useCallback(function () {\n    if (hideTooltipOnClick && apiRef.current) {\n      apiRef.current.requestHide({\n        isImmediate: true\n      });\n    }\n  }, [hideTooltipOnClick]); // Ideally we would be using onMouseEnter here, but\n  // because we are binding the event to the target parent\n  // we need to listen for the mouseover of all sub elements\n  // This means when moving along a tooltip we are quickly toggling\n  // between api.requestHide and api.keep. This it not ideal\n\n  var onMouseOver = useCallback(function (event) {\n    // Ignoring events from the container ref\n    if (containerRef.current && event.target === containerRef.current) {\n      return;\n    } // Using prevent default as a signal that parent tooltips\n\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    event.preventDefault();\n    var source = position === 'mouse' ? {\n      type: 'mouse',\n      // TODO: ideally not recalculating this object each time\n      mouse: getMousePosition({\n        left: event.clientX,\n        top: event.clientY\n      })\n    } : {\n      type: 'keyboard'\n    };\n    showTooltip(source);\n  }, [position, showTooltip]); // Ideally we would be using onMouseEnter here, but\n  // because we are binding the event to the target parent\n  // we need to listen for the mouseout of all sub elements\n  // This means when moving along a tooltip we are quickly toggling\n  // between api.requestHide and api.keep. This it not ideal\n\n  var onMouseOut = useCallback(function (event) {\n    // Ignoring events from the container ref\n    if (containerRef.current && event.target === containerRef.current) {\n      return;\n    } // Using prevent default as a signal that parent tooltips\n\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    event.preventDefault();\n\n    if (apiRef.current) {\n      apiRef.current.requestHide({\n        isImmediate: false\n      });\n    }\n  }, []);\n  var onMouseOverTooltip = useCallback(function () {\n    if (apiRef.current && apiRef.current.isActive()) {\n      apiRef.current.keep();\n      return;\n    }\n  }, []);\n  var onFocus = useCallback(function () {\n    showTooltip({\n      type: 'keyboard'\n    });\n  }, [showTooltip]);\n  var onBlur = useCallback(function () {\n    if (apiRef.current) {\n      apiRef.current.requestHide({\n        isImmediate: false\n      });\n    }\n  }, []);\n  var onAnimationFinished = useCallback(function (transition) {\n    // Using lastState here because motion is not picking up the latest value\n    if (transition === 'exiting' && lastState.current === 'fade-out' && apiRef.current) {\n      // @ts-ignore: refs are writeable\n      apiRef.current.finishHideAnimation();\n    }\n  }, []); // Doing a cast because typescript is struggling to narrow the type\n\n  var CastTargetContainer = TargetContainer;\n  var shouldRenderTooltipContainer = state !== 'hide' && Boolean(content);\n  var shouldRenderTooltipChildren = state === 'show-immediate' || state === 'show-fade-in';\n\n  var getReferentElement = function getReferentElement() {\n    // Use the initial mouse position if appropriate, or the target element\n    var api = apiRef.current;\n    var initialMouse = api ? api.getInitialMouse() : null;\n\n    if (position === 'mouse' && initialMouse) {\n      return initialMouse;\n    }\n\n    return targetRef.current || undefined;\n  };\n\n  var tooltipId = useUniqueId('tooltip', shouldRenderTooltipContainer);\n  var tooltipTriggerProps = {\n    onMouseOver: onMouseOver,\n    onMouseOut: onMouseOut,\n    onClick: onClick,\n    onMouseDown: onMouseDown,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    ref: setRef,\n    'aria-describedby': tooltipId,\n    'data-testid': testId ? \"\".concat(testId, \"--container\") : undefined\n  };\n  return jsx(React.Fragment, null, typeof children === 'function' ? children(tooltipTriggerProps) : jsx(CastTargetContainer, _extends({}, tooltipTriggerProps, {\n    role: \"presentation\"\n  }), children), shouldRenderTooltipContainer ? jsx(Portal, {\n    zIndex: tooltipZIndex\n  }, jsx(Popper, {\n    placement: tooltipPosition,\n    referenceElement: getReferentElement(),\n    strategy: strategy\n  }, function (_ref4) {\n    var ref = _ref4.ref,\n        style = _ref4.style,\n        update = _ref4.update;\n    return jsx(ExitingPersistence, {\n      appear: true\n    }, shouldRenderTooltipChildren && jsx(FadeIn, {\n      onFinish: onAnimationFinished,\n      duration: state === 'show-immediate' ? 0 : undefined\n    }, function (_ref5) {\n      var className = _ref5.className;\n      return (// eslint-disable-next-line jsx-a11y/mouse-events-have-key-events\n        jsx(Container, {\n          ref: ref,\n          className: \"Tooltip \".concat(className),\n          style: style,\n          truncate: truncate,\n          placement: tooltipPosition,\n          testId: testId,\n          onMouseOut: onMouseOut,\n          onMouseOver: onMouseOverTooltip,\n          id: tooltipId\n        }, typeof content === 'function' ? content({\n          update: update\n        }) : content)\n      );\n    }));\n  })) : null);\n}\n\nTooltip.displayName = 'Tooltip';\nexport default Tooltip;","map":{"version":3,"sources":["D:/unipr/Telematica/Progetto/Telematica/frontend/node_modules/@atlaskit/tooltip/dist/esm/Tooltip.js"],"names":["_extends","_slicedToArray","_defineProperty","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","React","useCallback","useEffect","useRef","useState","jsx","bind","usePlatformLeafSyntheticEventHandler","useCloseOnEscapePress","ExitingPersistence","FadeIn","Popper","Portal","layers","show","useUniqueId","TooltipContainer","getMousePosition","tooltipZIndex","tooltip","analyticsAttributes","componentName","packageName","packageVersion","noop","Tooltip","_ref","children","_ref$position","position","_ref$mousePosition","mousePosition","content","_ref$truncate","truncate","_ref$component","component","Container","_ref$tag","tag","TargetContainer","testId","_ref$delay","delay","_ref$onShow","onShow","_ref$onHide","onHide","_ref$hideTooltipOnCli","hideTooltipOnClick","_ref$hideTooltipOnMou","hideTooltipOnMouseDown","analyticsContext","_ref$strategy","strategy","tooltipPosition","onShowHandler","fn","action","analyticsData","onHideHandler","apiRef","_useState","_useState2","state","setState","targetRef","containerRef","setRef","node","current","firstChild","lastState","lastDelay","lastHandlers","hasCalledShowHandler","start","api","done","abort","mount","unmount","showTooltip","isActive","keep","entry","_ref2","isImmediate","hide","_ref3","hideTooltipOnEsc","_apiRef$current","requestHide","onClose","isDisabled","unbind","window","type","listener","options","capture","passive","once","onMouseDown","onClick","onMouseOver","event","defaultPrevented","preventDefault","mouse","left","clientX","top","clientY","onMouseOut","onMouseOverTooltip","onFocus","onBlur","onAnimationFinished","transition","finishHideAnimation","CastTargetContainer","shouldRenderTooltipContainer","Boolean","shouldRenderTooltipChildren","getReferentElement","initialMouse","getInitialMouse","undefined","tooltipId","tooltipTriggerProps","ref","concat","Fragment","role","zIndex","placement","referenceElement","_ref4","style","update","appear","onFinish","duration","_ref5","className","id","displayName"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\n/** @jsx jsx */\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { jsx } from '@emotion/core';\nimport { bind } from 'bind-event-listener';\nimport { usePlatformLeafSyntheticEventHandler } from '@atlaskit/analytics-next';\nimport useCloseOnEscapePress from '@atlaskit/ds-lib/use-close-on-escape-press';\nimport { ExitingPersistence, FadeIn } from '@atlaskit/motion';\nimport { Popper } from '@atlaskit/popper';\nimport Portal from '@atlaskit/portal';\nimport { layers } from '@atlaskit/theme/constants';\nimport { show } from './internal/tooltip-manager';\nimport useUniqueId from './internal/use-unique-id';\nimport TooltipContainer from './TooltipContainer';\nimport { getMousePosition } from './utilities';\nvar tooltipZIndex = layers.tooltip();\nvar analyticsAttributes = {\n  componentName: 'tooltip',\n  packageName: \"@atlaskit/tooltip\",\n  packageVersion: \"17.5.8\"\n};\n\nfunction noop() {}\n\nfunction Tooltip(_ref) {\n  var children = _ref.children,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? 'bottom' : _ref$position,\n      _ref$mousePosition = _ref.mousePosition,\n      mousePosition = _ref$mousePosition === void 0 ? 'bottom' : _ref$mousePosition,\n      content = _ref.content,\n      _ref$truncate = _ref.truncate,\n      truncate = _ref$truncate === void 0 ? false : _ref$truncate,\n      _ref$component = _ref.component,\n      Container = _ref$component === void 0 ? TooltipContainer : _ref$component,\n      _ref$tag = _ref.tag,\n      TargetContainer = _ref$tag === void 0 ? 'div' : _ref$tag,\n      testId = _ref.testId,\n      _ref$delay = _ref.delay,\n      delay = _ref$delay === void 0 ? 300 : _ref$delay,\n      _ref$onShow = _ref.onShow,\n      onShow = _ref$onShow === void 0 ? noop : _ref$onShow,\n      _ref$onHide = _ref.onHide,\n      onHide = _ref$onHide === void 0 ? noop : _ref$onHide,\n      _ref$hideTooltipOnCli = _ref.hideTooltipOnClick,\n      hideTooltipOnClick = _ref$hideTooltipOnCli === void 0 ? false : _ref$hideTooltipOnCli,\n      _ref$hideTooltipOnMou = _ref.hideTooltipOnMouseDown,\n      hideTooltipOnMouseDown = _ref$hideTooltipOnMou === void 0 ? false : _ref$hideTooltipOnMou,\n      analyticsContext = _ref.analyticsContext,\n      _ref$strategy = _ref.strategy,\n      strategy = _ref$strategy === void 0 ? 'fixed' : _ref$strategy;\n  var tooltipPosition = position === 'mouse' ? mousePosition : position;\n  var onShowHandler = usePlatformLeafSyntheticEventHandler(_objectSpread({\n    fn: onShow,\n    action: 'displayed',\n    analyticsData: analyticsContext\n  }, analyticsAttributes));\n  var onHideHandler = usePlatformLeafSyntheticEventHandler(_objectSpread({\n    fn: onHide,\n    action: 'hidden',\n    analyticsData: analyticsContext\n  }, analyticsAttributes));\n  var apiRef = useRef(null);\n\n  var _useState = useState('hide'),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var targetRef = useRef(null);\n  var containerRef = useRef(null);\n  var setRef = useCallback(function (node) {\n    if (!node) {\n      return;\n    }\n\n    if (typeof children === 'function') {\n      // @ts-ignore - React Ref typing is too strict for this use case\n      targetRef.current = node;\n    } else {\n      // @ts-ignore - React Ref typing is too strict for this use case\n      containerRef.current = node; // @ts-ignore - React Ref typing is too strict for this use case\n\n      targetRef.current = node.firstChild;\n    }\n  }, [children]); // Putting a few things into refs so that we don't have to break memoization\n\n  var lastState = useRef(state);\n  var lastDelay = useRef(delay);\n  var lastHandlers = useRef({\n    onShowHandler: onShowHandler,\n    onHideHandler: onHideHandler\n  });\n  var hasCalledShowHandler = useRef(false);\n  useEffect(function () {\n    lastState.current = state;\n    lastDelay.current = delay;\n    lastHandlers.current = {\n      onShowHandler: onShowHandler,\n      onHideHandler: onHideHandler\n    };\n  }, [delay, onHideHandler, onShowHandler, state]);\n  var start = useCallback(function (api) {\n    // @ts-ignore\n    apiRef.current = api;\n    hasCalledShowHandler.current = false;\n  }, []);\n  var done = useCallback(function () {\n    if (!apiRef.current) {\n      return;\n    } // Only call onHideHandler if we have called onShowHandler\n\n\n    if (hasCalledShowHandler.current) {\n      lastHandlers.current.onHideHandler();\n    } // @ts-ignore\n\n\n    apiRef.current = null; // @ts-ignore\n\n    hasCalledShowHandler.current = false; // just in case\n\n    setState('hide');\n  }, []);\n  var abort = useCallback(function () {\n    if (!apiRef.current) {\n      return;\n    }\n\n    apiRef.current.abort(); // Only call onHideHandler if we have called onShowHandler\n\n    if (hasCalledShowHandler.current) {\n      lastHandlers.current.onHideHandler();\n    } // @ts-ignore\n\n\n    apiRef.current = null;\n  }, []);\n  useEffect(function mount() {\n    return function unmount() {\n      if (apiRef.current) {\n        abort();\n      }\n    };\n  }, [abort]);\n  var showTooltip = useCallback(function (source) {\n    if (apiRef.current && !apiRef.current.isActive()) {\n      abort();\n    } // Tell the tooltip to keep showing\n\n\n    if (apiRef.current && apiRef.current.isActive()) {\n      apiRef.current.keep();\n      return;\n    }\n\n    var entry = {\n      source: source,\n      delay: lastDelay.current,\n      show: function show(_ref2) {\n        var isImmediate = _ref2.isImmediate;\n\n        // Call the onShow handler if it hasn't been called yet\n        if (!hasCalledShowHandler.current) {\n          hasCalledShowHandler.current = true;\n          lastHandlers.current.onShowHandler();\n        }\n\n        setState(isImmediate ? 'show-immediate' : 'show-fade-in');\n      },\n      hide: function hide(_ref3) {\n        var isImmediate = _ref3.isImmediate;\n        setState(function (current) {\n          if (current !== 'hide') {\n            return isImmediate ? 'hide' : 'fade-out';\n          }\n\n          return current;\n        });\n      },\n      done: done\n    };\n    var api = show(entry);\n    start(api);\n  }, [abort, done, start]);\n  var hideTooltipOnEsc = useCallback(function () {\n    var _apiRef$current;\n\n    (_apiRef$current = apiRef.current) === null || _apiRef$current === void 0 ? void 0 : _apiRef$current.requestHide({\n      isImmediate: true\n    });\n  }, [apiRef]);\n  useCloseOnEscapePress({\n    onClose: hideTooltipOnEsc,\n    isDisabled: state === 'hide' || state === 'fade-out'\n  });\n  useEffect(function () {\n    if (state === 'hide') {\n      return noop;\n    }\n\n    var unbind = bind(window, {\n      type: 'scroll',\n      listener: function listener() {\n        if (apiRef.current) {\n          apiRef.current.requestHide({\n            isImmediate: true\n          });\n        }\n      },\n      options: {\n        capture: true,\n        passive: true,\n        once: true\n      }\n    });\n    return unbind;\n  }, [state]);\n  var onMouseDown = useCallback(function () {\n    if (hideTooltipOnMouseDown && apiRef.current) {\n      apiRef.current.requestHide({\n        isImmediate: true\n      });\n    }\n  }, [hideTooltipOnMouseDown]);\n  var onClick = useCallback(function () {\n    if (hideTooltipOnClick && apiRef.current) {\n      apiRef.current.requestHide({\n        isImmediate: true\n      });\n    }\n  }, [hideTooltipOnClick]); // Ideally we would be using onMouseEnter here, but\n  // because we are binding the event to the target parent\n  // we need to listen for the mouseover of all sub elements\n  // This means when moving along a tooltip we are quickly toggling\n  // between api.requestHide and api.keep. This it not ideal\n\n  var onMouseOver = useCallback(function (event) {\n    // Ignoring events from the container ref\n    if (containerRef.current && event.target === containerRef.current) {\n      return;\n    } // Using prevent default as a signal that parent tooltips\n\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    event.preventDefault();\n    var source = position === 'mouse' ? {\n      type: 'mouse',\n      // TODO: ideally not recalculating this object each time\n      mouse: getMousePosition({\n        left: event.clientX,\n        top: event.clientY\n      })\n    } : {\n      type: 'keyboard'\n    };\n    showTooltip(source);\n  }, [position, showTooltip]); // Ideally we would be using onMouseEnter here, but\n  // because we are binding the event to the target parent\n  // we need to listen for the mouseout of all sub elements\n  // This means when moving along a tooltip we are quickly toggling\n  // between api.requestHide and api.keep. This it not ideal\n\n  var onMouseOut = useCallback(function (event) {\n    // Ignoring events from the container ref\n    if (containerRef.current && event.target === containerRef.current) {\n      return;\n    } // Using prevent default as a signal that parent tooltips\n\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    event.preventDefault();\n\n    if (apiRef.current) {\n      apiRef.current.requestHide({\n        isImmediate: false\n      });\n    }\n  }, []);\n  var onMouseOverTooltip = useCallback(function () {\n    if (apiRef.current && apiRef.current.isActive()) {\n      apiRef.current.keep();\n      return;\n    }\n  }, []);\n  var onFocus = useCallback(function () {\n    showTooltip({\n      type: 'keyboard'\n    });\n  }, [showTooltip]);\n  var onBlur = useCallback(function () {\n    if (apiRef.current) {\n      apiRef.current.requestHide({\n        isImmediate: false\n      });\n    }\n  }, []);\n  var onAnimationFinished = useCallback(function (transition) {\n    // Using lastState here because motion is not picking up the latest value\n    if (transition === 'exiting' && lastState.current === 'fade-out' && apiRef.current) {\n      // @ts-ignore: refs are writeable\n      apiRef.current.finishHideAnimation();\n    }\n  }, []); // Doing a cast because typescript is struggling to narrow the type\n\n  var CastTargetContainer = TargetContainer;\n  var shouldRenderTooltipContainer = state !== 'hide' && Boolean(content);\n  var shouldRenderTooltipChildren = state === 'show-immediate' || state === 'show-fade-in';\n\n  var getReferentElement = function getReferentElement() {\n    // Use the initial mouse position if appropriate, or the target element\n    var api = apiRef.current;\n    var initialMouse = api ? api.getInitialMouse() : null;\n\n    if (position === 'mouse' && initialMouse) {\n      return initialMouse;\n    }\n\n    return targetRef.current || undefined;\n  };\n\n  var tooltipId = useUniqueId('tooltip', shouldRenderTooltipContainer);\n  var tooltipTriggerProps = {\n    onMouseOver: onMouseOver,\n    onMouseOut: onMouseOut,\n    onClick: onClick,\n    onMouseDown: onMouseDown,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    ref: setRef,\n    'aria-describedby': tooltipId,\n    'data-testid': testId ? \"\".concat(testId, \"--container\") : undefined\n  };\n  return jsx(React.Fragment, null, typeof children === 'function' ? children(tooltipTriggerProps) : jsx(CastTargetContainer, _extends({}, tooltipTriggerProps, {\n    role: \"presentation\"\n  }), children), shouldRenderTooltipContainer ? jsx(Portal, {\n    zIndex: tooltipZIndex\n  }, jsx(Popper, {\n    placement: tooltipPosition,\n    referenceElement: getReferentElement(),\n    strategy: strategy\n  }, function (_ref4) {\n    var ref = _ref4.ref,\n        style = _ref4.style,\n        update = _ref4.update;\n    return jsx(ExitingPersistence, {\n      appear: true\n    }, shouldRenderTooltipChildren && jsx(FadeIn, {\n      onFinish: onAnimationFinished,\n      duration: state === 'show-immediate' ? 0 : undefined\n    }, function (_ref5) {\n      var className = _ref5.className;\n      return (// eslint-disable-next-line jsx-a11y/mouse-events-have-key-events\n        jsx(Container, {\n          ref: ref,\n          className: \"Tooltip \".concat(className),\n          style: style,\n          truncate: truncate,\n          placement: tooltipPosition,\n          testId: testId,\n          onMouseOut: onMouseOut,\n          onMouseOver: onMouseOverTooltip,\n          id: tooltipId\n        }, typeof content === 'function' ? content({\n          update: update\n        }) : content)\n      );\n    }));\n  })) : null);\n}\n\nTooltip.displayName = 'Tooltip';\nexport default Tooltip;"]},"metadata":{},"sourceType":"module"}