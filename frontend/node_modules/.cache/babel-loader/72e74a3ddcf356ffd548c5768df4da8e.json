{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _excluded = [\"children\"];\nimport { useRef } from 'react';\nimport { isReducedMotion } from '../utils/accessibility';\nimport { easeInOut } from '../utils/curves';\nimport { mediumDurationMs } from '../utils/durations';\nimport { useRequestAnimationFrame, useSetTimeout } from '../utils/timer-hooks';\nimport { useElementRef } from '../utils/use-element-ref';\nimport { useLayoutEffect } from '../utils/use-layout-effect';\nimport { useSnapshotBeforeUpdate } from '../utils/use-snapshot-before-update';\nexport var useResizingHeight = function useResizingHeight() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$duration = _ref.duration,\n      calcDuration = _ref$duration === void 0 ? function () {\n    return mediumDurationMs;\n  } : _ref$duration,\n      _ref$timingFunction = _ref.timingFunction,\n      calcTimingFunction = _ref$timingFunction === void 0 ? function () {\n    return easeInOut;\n  } : _ref$timingFunction;\n\n  var prevDimensions = useRef();\n\n  var _useElementRef = useElementRef(),\n      _useElementRef2 = _slicedToArray(_useElementRef, 2),\n      element = _useElementRef2[0],\n      setElementRef = _useElementRef2[1]; // We cleanup on the next effect to prevent the previous timeout being called during\n  // the next motion - as now the timeout has essentially been extended!\n\n\n  var setTimeout = useSetTimeout({\n    cleanup: 'next-effect'\n  });\n  var requestAnimationFrame = useRequestAnimationFrame();\n  useSnapshotBeforeUpdate(function () {\n    if (isReducedMotion() || !element) {\n      return;\n    }\n\n    prevDimensions.current = element.getBoundingClientRect();\n  });\n  useLayoutEffect(function () {\n    if (isReducedMotion() || !element || !prevDimensions.current) {\n      return;\n    } // We might already be animating.\n    // Because of that we need to expand to the destination height first.\n\n\n    element.setAttribute('style', '');\n    var nextDimensions = element.getBoundingClientRect();\n\n    if (nextDimensions.height === prevDimensions.current.height) {\n      return;\n    }\n\n    var duration = calcDuration(prevDimensions.current.height, nextDimensions.height);\n    var newStyles = {\n      height: \"\".concat(prevDimensions.current.height, \"px\"),\n      willChange: 'height',\n      transitionProperty: 'height',\n      transitionDuration: \"\".concat(duration, \"ms\"),\n      boxSizing: 'border-box',\n      transitionTimingFunction: calcTimingFunction(prevDimensions.current.height, nextDimensions.height, duration)\n    };\n    Object.assign(element.style, newStyles); // We split this over two animation frames so the DOM has enough time to flush the changes.\n    // We are deliberately not skipping this frame if another render happens - if we do the motion doesn't finish properly.\n\n    requestAnimationFrame(function () {\n      requestAnimationFrame(function () {\n        if (!element) {\n          return;\n        }\n\n        element.style.height = \"\".concat(nextDimensions.height, \"px\");\n        setTimeout(function () {\n          if (!element) {\n            return;\n          }\n\n          element.setAttribute('style', '');\n        }, duration);\n      });\n    });\n  });\n  return {\n    ref: setElementRef\n  };\n};\nexport var ResizingHeight = function ResizingHeight(_ref2) {\n  var children = _ref2.children,\n      props = _objectWithoutProperties(_ref2, _excluded);\n\n  var resizing = useResizingHeight(props);\n  return children(resizing);\n};\n/**\n * This exists only to be able to extract opts.\n */\n\nexport default (function (opts) {});","map":{"version":3,"sources":["D:/unipr/Telematica/Progetto/Telematica/frontend/node_modules/@atlaskit/tooltip/node_modules/@atlaskit/motion/dist/esm/resizing/height.js"],"names":["_objectWithoutProperties","_slicedToArray","_excluded","useRef","isReducedMotion","easeInOut","mediumDurationMs","useRequestAnimationFrame","useSetTimeout","useElementRef","useLayoutEffect","useSnapshotBeforeUpdate","useResizingHeight","_ref","arguments","length","undefined","_ref$duration","duration","calcDuration","_ref$timingFunction","timingFunction","calcTimingFunction","prevDimensions","_useElementRef","_useElementRef2","element","setElementRef","setTimeout","cleanup","requestAnimationFrame","current","getBoundingClientRect","setAttribute","nextDimensions","height","newStyles","concat","willChange","transitionProperty","transitionDuration","boxSizing","transitionTimingFunction","Object","assign","style","ref","ResizingHeight","_ref2","children","props","resizing","opts"],"mappings":"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","sourcesContent":["import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _excluded = [\"children\"];\nimport { useRef } from 'react';\nimport { isReducedMotion } from '../utils/accessibility';\nimport { easeInOut } from '../utils/curves';\nimport { mediumDurationMs } from '../utils/durations';\nimport { useRequestAnimationFrame, useSetTimeout } from '../utils/timer-hooks';\nimport { useElementRef } from '../utils/use-element-ref';\nimport { useLayoutEffect } from '../utils/use-layout-effect';\nimport { useSnapshotBeforeUpdate } from '../utils/use-snapshot-before-update';\nexport var useResizingHeight = function useResizingHeight() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$duration = _ref.duration,\n      calcDuration = _ref$duration === void 0 ? function () {\n    return mediumDurationMs;\n  } : _ref$duration,\n      _ref$timingFunction = _ref.timingFunction,\n      calcTimingFunction = _ref$timingFunction === void 0 ? function () {\n    return easeInOut;\n  } : _ref$timingFunction;\n\n  var prevDimensions = useRef();\n\n  var _useElementRef = useElementRef(),\n      _useElementRef2 = _slicedToArray(_useElementRef, 2),\n      element = _useElementRef2[0],\n      setElementRef = _useElementRef2[1]; // We cleanup on the next effect to prevent the previous timeout being called during\n  // the next motion - as now the timeout has essentially been extended!\n\n\n  var setTimeout = useSetTimeout({\n    cleanup: 'next-effect'\n  });\n  var requestAnimationFrame = useRequestAnimationFrame();\n  useSnapshotBeforeUpdate(function () {\n    if (isReducedMotion() || !element) {\n      return;\n    }\n\n    prevDimensions.current = element.getBoundingClientRect();\n  });\n  useLayoutEffect(function () {\n    if (isReducedMotion() || !element || !prevDimensions.current) {\n      return;\n    } // We might already be animating.\n    // Because of that we need to expand to the destination height first.\n\n\n    element.setAttribute('style', '');\n    var nextDimensions = element.getBoundingClientRect();\n\n    if (nextDimensions.height === prevDimensions.current.height) {\n      return;\n    }\n\n    var duration = calcDuration(prevDimensions.current.height, nextDimensions.height);\n    var newStyles = {\n      height: \"\".concat(prevDimensions.current.height, \"px\"),\n      willChange: 'height',\n      transitionProperty: 'height',\n      transitionDuration: \"\".concat(duration, \"ms\"),\n      boxSizing: 'border-box',\n      transitionTimingFunction: calcTimingFunction(prevDimensions.current.height, nextDimensions.height, duration)\n    };\n    Object.assign(element.style, newStyles); // We split this over two animation frames so the DOM has enough time to flush the changes.\n    // We are deliberately not skipping this frame if another render happens - if we do the motion doesn't finish properly.\n\n    requestAnimationFrame(function () {\n      requestAnimationFrame(function () {\n        if (!element) {\n          return;\n        }\n\n        element.style.height = \"\".concat(nextDimensions.height, \"px\");\n        setTimeout(function () {\n          if (!element) {\n            return;\n          }\n\n          element.setAttribute('style', '');\n        }, duration);\n      });\n    });\n  });\n  return {\n    ref: setElementRef\n  };\n};\nexport var ResizingHeight = function ResizingHeight(_ref2) {\n  var children = _ref2.children,\n      props = _objectWithoutProperties(_ref2, _excluded);\n\n  var resizing = useResizingHeight(props);\n  return children(resizing);\n};\n/**\n * This exists only to be able to extract opts.\n */\n\nexport default (function (opts) {});"]},"metadata":{},"sourceType":"module"}